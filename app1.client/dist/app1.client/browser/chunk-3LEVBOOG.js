import{a as fe,b as he,c as Ce,g as ve}from"./chunk-RFEFAVBM.js";import{a as _e}from"./chunk-DR65JKWS.js";import{a as ce,b as le,c as se}from"./chunk-6XLXOEL2.js";import{a as me,b as de,c as pe,d as ue}from"./chunk-4NQDTH66.js";import{a as Gt}from"./chunk-KSO6IQS5.js";import"./chunk-S2KWTDMG.js";import{a as Ht,b as Wt}from"./chunk-WO7XMYCS.js";import{c as Kt}from"./chunk-ORUTPMOI.js";import"./chunk-YCUPTL4E.js";import{f as zt}from"./chunk-EMSJVJHN.js";import"./chunk-7XX3TVDI.js";import{b as Lt}from"./chunk-SSJR24MO.js";import"./chunk-6UHTTYRU.js";import{a as ae,b as re}from"./chunk-A3WCOMYE.js";import{a as ne,b as oe,d as _t,e as ft}from"./chunk-2ZTHJEDW.js";import{a as Ot,d as it,e as Ut,i as nt,j as ot}from"./chunk-FEENJMQR.js";import"./chunk-EDL6DMK5.js";import{b as st,d as Xt,g as mt,h as Yt,k as Jt,m as Zt,o as dt,p as te,s as ee,w as ie,x as pt,y as ut}from"./chunk-WRLPWSZF.js";import{a as at,c as Qt,d as qt,e as rt}from"./chunk-22IZ7S6Q.js";import{b as ct,c as lt}from"./chunk-ZDVCYR6D.js";import{K as Bt,L as Nt,R as Pt,U as jt}from"./chunk-25LMPTPI.js";import"./chunk-AUKJIIL4.js";import"./chunk-SVUIAZ5I.js";import{b as Z,c as tt,d as U,e as et}from"./chunk-IKG45PLY.js";import{c as At}from"./chunk-OYH67EY7.js";import{d as Mt,h as J,m as Rt,p as Vt,q as $t}from"./chunk-DBYYYE4O.js";import{$,C as N,Cb as f,Dc as q,E as bt,Ec as G,Fc as Dt,H as yt,J as k,Kb as l,Kc as B,Lb as W,Lc as Ft,Mc as X,Nc as Ct,Pc as Et,Qb as S,Rb as u,Ub as T,Uc as Y,Vb as I,Wb as a,Xb as r,Y as y,Yb as p,Z as w,ac as D,ca as kt,db as St,eb as R,f as K,g as Q,gc as v,ha as wt,hb as n,ia as A,ib as g,ic as m,m as gt,mb as Tt,mc as j,n as H,nb as It,nc as L,oc as z,r as F,sc as O,ta as h,tc as d,ua as C,uc as E,vc as x,wb as P,y as xt}from"./chunk-Q34RPHHW.js";import"./chunk-WWX6BADO.js";var ge=(()=>{class e{constructor(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=P({type:e,selectors:[["contacts"]],decls:1,vars:0,template:function(i,o){i&1&&p(0,"router-outlet")},dependencies:[tt],encapsulation:2,changeDetection:0})}}return e})();var M=(()=>{class e{constructor(t){this._httpClient=t,this._contact=new Q(null),this._contacts=new Q(null),this._countries=new Q(null),this._tags=new Q(null)}get contact$(){return this._contact.asObservable()}get contacts$(){return this._contacts.asObservable()}get countries$(){return this._countries.asObservable()}get tags$(){return this._tags.asObservable()}getContacts(){return this._httpClient.get("api/apps/contacts/all").pipe($(t=>{this._contacts.next(t)}))}searchContacts(t){return this._httpClient.get("api/apps/contacts/search",{params:{query:t}}).pipe($(i=>{this._contacts.next(i)}))}getContactById(t){return this._contacts.pipe(k(1),F(i=>{let o=i.find(c=>c.id===t)||null;return this._contact.next(o),o}),y(i=>i?gt(i):H("Could not found contact with id of "+t+"!")))}createContact(){return this.contacts$.pipe(k(1),y(t=>this._httpClient.post("api/apps/contacts/contact",{}).pipe(F(i=>(this._contacts.next([i,...t]),i)))))}updateContact(t,i){return this.contacts$.pipe(k(1),y(o=>this._httpClient.patch("api/apps/contacts/contact",{id:t,contact:i}).pipe(F(c=>{let _=o.findIndex(b=>b.id===t);return o[_]=c,this._contacts.next(o),c}),y(c=>this.contact$.pipe(k(1),N(_=>_&&_.id===t),$(()=>(this._contact.next(c),c)))))))}deleteContact(t){return this.contacts$.pipe(k(1),y(i=>this._httpClient.delete("api/apps/contacts/contact",{params:{id:t}}).pipe(F(o=>{let c=i.findIndex(_=>_.id===t);return i.splice(c,1),this._contacts.next(i),o}))))}getCountries(){return this._httpClient.get("api/apps/contacts/countries").pipe($(t=>{this._countries.next(t)}))}getTags(){return this._httpClient.get("api/apps/contacts/tags").pipe($(t=>{this._tags.next(t)}))}createTag(t){return this.tags$.pipe(k(1),y(i=>this._httpClient.post("api/apps/contacts/tag",{tag:t}).pipe(F(o=>(this._tags.next([...i,o]),o)))))}updateTag(t,i){return this.tags$.pipe(k(1),y(o=>this._httpClient.patch("api/apps/contacts/tag",{id:t,tag:i}).pipe(F(c=>{let _=o.findIndex(b=>b.id===t);return o[_]=c,this._tags.next(o),c}))))}deleteTag(t){return this.tags$.pipe(k(1),y(i=>this._httpClient.delete("api/apps/contacts/tag",{params:{id:t}}).pipe(F(o=>{let c=i.findIndex(_=>_.id===t);return i.splice(c,1),this._tags.next(i),o}),N(o=>o),y(o=>this.contacts$.pipe(k(1),F(c=>(c.forEach(_=>{let b=_.tags.findIndex(V=>V===t);b>-1&&_.tags.splice(b,1)}),o)))))))}uploadAvatar(t,i){return this.contacts$.pipe(k(1),y(o=>this._httpClient.post("api/apps/contacts/avatar",{id:t,avatar:i},{headers:{"Content-Type":i.type}}).pipe(F(c=>{let _=o.findIndex(b=>b.id===t);return o[_]=c,this._contacts.next(o),c}),y(c=>this.contact$.pipe(k(1),N(_=>_&&_.id===t),$(()=>(this._contact.next(c),c)))))))}static{this.\u0275fac=function(i){return new(i||e)(wt(At))}}static{this.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ve=["matDrawer"],$e=()=>({"=0":"No contacts","=1":"contact",other:"contacts"}),Ae=(e,s)=>({"dark:hover:bg-hover hover:bg-gray-100":e,"bg-primary-50 dark:bg-hover":s}),Be=e=>["./",e];function Ne(e,s){if(e&1&&d(0),e&2){let t=m();x(" ",t.contactsCount," ")}}function Pe(e,s){if(e&1&&(a(0,"div",18),d(1),r()),e&2){let t=m().$implicit;n(),x(" ",t.name.charAt(0)," ")}}function je(e,s){if(e&1&&p(0,"img",21),e&2){let t=m().$implicit;l("src",t.avatar,R)}}function Le(e,s){if(e&1&&(a(0,"div",22),d(1),r()),e&2){let t=m().$implicit;n(),x(" ",t.name.charAt(0)," ")}}function ze(e,s){if(e&1&&(f(0,Pe,2,1,"div",18),a(1,"a",19)(2,"div",20),f(3,je,1,1,"img",21)(4,Le,2,1,"div",22),r(),a(5,"div",23)(6,"div",24),d(7),r(),a(8,"div",25),d(9),r()()()),e&2){let t=s.$implicit,i=s.$index,o=m(2),c=m();u(i===0||t.name.charAt(0)!==o[i-1].name.charAt(0)?0:-1),n(),l("ngClass",Dt(7,Ae,!c.selectedContact||c.selectedContact.id!==t.id,c.selectedContact&&c.selectedContact.id===t.id))("routerLink",G(10,Be,t.id)),n(2),u(t.avatar?3:-1),n(),u(t.avatar?-1:4),n(3),x(" ",t.name," "),n(2),x(" ",t.title," ")}}function Oe(e,s){if(e&1&&T(0,ze,10,12,null,null,S().trackByFn,!0),e&2){let t=m();I(t)}}function Ue(e,s){e&1&&(a(0,"div",17),d(1," There are no contacts! "),r())}function Qe(e,s){e&1&&f(0,Oe,2,0)(1,Ue,2,0,"div",17),e&2&&u(s.length?0:1)}var ht=(()=>{class e{constructor(t,i,o,c,_,b){this._activatedRoute=t,this._changeDetectorRef=i,this._contactsService=o,this._document=c,this._router=_,this._fuseMediaWatcherService=b,this.contactsCount=0,this.contactsTableColumns=["name","email","phoneNumber","job"],this.searchInputControl=new Jt,this._unsubscribeAll=new K}ngOnInit(){this.contacts$=this._contactsService.contacts$,this._contactsService.contacts$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.contactsCount=t.length,this._changeDetectorRef.markForCheck()}),this._contactsService.contact$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.selectedContact=t,this._changeDetectorRef.markForCheck()}),this._contactsService.countries$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe(w(this._unsubscribeAll),y(t=>this._contactsService.searchContacts(t))).subscribe(),this.matDrawer.openedChange.subscribe(t=>{t||(this.selectedContact=null,this._changeDetectorRef.markForCheck())}),this._fuseMediaWatcherService.onMediaChange$.pipe(w(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?this.drawerMode="side":this.drawerMode="over",this._changeDetectorRef.markForCheck()}),xt(this._document,"keydown").pipe(w(this._unsubscribeAll),N(t=>(t.ctrlKey===!0||t.metaKey)&&t.key==="/")).subscribe(()=>{this.createContact()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._contactsService.createContact().subscribe(t=>{this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}trackByFn(t,i){return i.id||t}static{this.\u0275fac=function(i){return new(i||e)(g(Z),g(Y),g(M),g(Mt),g(U),g(Kt))}}static{this.\u0275cmp=P({type:e,selectors:[["contacts-list"]],viewQuery:function(i,o){if(i&1&&j(Ve,7),i&2){let c;L(c=z())&&(o.matDrawer=c.first)}},decls:27,vars:19,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","h-full","flex-auto","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900","md:w-160",3,"mode","opened","position","disableClose"],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-auto","flex-col","justify-between","border-b","px-6","py-8","sm:flex-row","md:flex-col","md:px-8"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","ml-0.5","font-medium"],[1,"mt-4","flex","items-center","sm:mt-0","md:mt-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"relative"],[1,"border-t","p-8","text-center","text-4xl","font-semibold","tracking-tight","sm:p-16"],[1,"text-secondary","sticky","top-0","z-10","-mt-px","border-b","border-t","bg-gray-50","px-6","py-1","font-medium","uppercase","dark:bg-gray-900","md:px-8"],[1,"z-20","flex","cursor-pointer","items-center","border-b","px-6","py-4","md:px-8",3,"ngClass","routerLink"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","overflow-hidden","rounded-full"],["alt","Contact avatar",1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-lg","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"ml-4","min-w-0"],[1,"truncate","font-medium","leading-5"],[1,"text-secondary","truncate","leading-5"]],template:function(i,o){if(i&1){let c=D();a(0,"div",1)(1,"mat-drawer-container",2),v("backdropClick",function(){return h(c),C(o.onBackdropClicked())}),a(2,"mat-drawer",3,0),p(4,"router-outlet"),r(),a(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),d(10," Contacts "),r(),a(11,"div",8),f(12,Ne,1,1),d(13),B(14,"i18nPlural"),r()(),a(15,"div",9)(16,"div",5)(17,"mat-form-field",10),p(18,"mat-icon",11)(19,"input",12),r()(),a(20,"button",13),v("click",function(){return h(c),C(o.createContact())}),p(21,"mat-icon",14),a(22,"span",15),d(23,"Add"),r()()()(),a(24,"div",16),f(25,Qe,2,1),B(26,"async"),r()()()()()}if(i&2){let c;n(2),l("mode",o.drawerMode)("opened",!1)("position","end")("disableClose",!0),n(10),u(o.contactsCount>0?12:-1),n(),x(" ",X(14,13,o.contactsCount,q(18,$e))," "),n(5),l("svgIcon","heroicons_solid:magnifying-glass"),n(),l("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Search contacts"),n(),l("color","primary"),n(),l("svgIcon","heroicons_outline:plus"),n(4),u((c=Ft(26,16,o.contacts$))?25:-1,c)}},dependencies:[ue,de,pe,me,tt,ot,nt,it,lt,ct,ft,_t,pt,st,mt,ut,dt,rt,at,J,et,Rt,$t],encapsulation:2,changeDetection:0})}}return e})();var Ge=["avatarFileInput"],Ke=["tagsPanel"],He=["tagsPanelOrigin"],be=()=>["../"],ye=e=>({"mt-6":e});function We(e,s){if(e&1&&p(0,"img",7),e&2){let t=m(2);l("src",t.contact.background,R)}}function Xe(e,s){if(e&1&&p(0,"img",15),e&2){let t=m(2);l("src",t.contact.avatar,R)}}function Ye(e,s){if(e&1&&(a(0,"div",16),d(1),r()),e&2){let t=m(2);n(),x(" ",t.contact.name.charAt(0)," ")}}function Je(e,s){if(e&1&&(a(0,"div",26)(1,"span",27),d(2),r()()),e&2){let t=s.$implicit;n(2),E(t.title)}}function Ze(e,s){if(e&1&&(a(0,"div",22),T(1,Je,3,1,"div",26,S().trackByFn,!0),B(3,"fuseFindByKey"),r()),e&2){let t=m(2);n(),I(Ct(3,0,t.contact.tags,"id",t.tags))}}function ti(e,s){if(e&1&&(a(0,"div",24),p(1,"mat-icon",28),a(2,"div",29),d(3),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:briefcase"),n(2),x(" ",t.contact.title," ")}}function ei(e,s){if(e&1&&(a(0,"div",24),p(1,"mat-icon",28),a(2,"div",29),d(3),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:building-office-2"),n(2),x(" ",t.contact.company," ")}}function ii(e,s){if(e&1&&(a(0,"div",33)(1,"span",34),d(2,"\u2022"),r(),a(3,"span",35),d(4),r()()),e&2){let t=m().$implicit;n(4),E(t.label)}}function ni(e,s){if(e&1&&(a(0,"div",31)(1,"a",32),d(2),r(),f(3,ii,5,1,"div",33),r()),e&2){let t=s.$implicit;n(),l("href","mailto:"+t.email,R),n(),x(" ",t.email," "),n(),u(t.label?3:-1)}}function oi(e,s){if(e&1&&(a(0,"div",25),p(1,"mat-icon",28),a(2,"div",30),T(3,ni,4,3,"div",31,S().trackByFn,!0),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:envelope"),n(2),I(t.contact.emails)}}function ai(e,s){if(e&1&&(a(0,"div",33)(1,"span",34),d(2,"\u2022"),r(),a(3,"span",35),d(4),r()()),e&2){let t=m().$implicit;n(4),E(t.label)}}function ri(e,s){if(e&1&&(a(0,"div",31),p(1,"div",36),a(2,"div",37),d(3),r(),a(4,"div",38),d(5),r(),f(6,ai,5,1,"div",33),r()),e&2){let t=s.$implicit,i=m(3);n(),W("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",i.getCountryByIso(t.country).flagImagePos),l("matTooltip",i.getCountryByIso(t.country).name),n(2),x(" ",i.getCountryByIso(t.country).code," "),n(2),x(" ",t.phoneNumber," "),n(),u(t.label?6:-1)}}function ci(e,s){if(e&1&&(a(0,"div",25),p(1,"mat-icon",28),a(2,"div",30),T(3,ri,7,10,"div",31,S().trackByFn,!0),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:phone"),n(2),I(t.contact.phoneNumbers)}}function li(e,s){if(e&1&&(a(0,"div",24),p(1,"mat-icon",28),a(2,"div",29),d(3),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:map-pin"),n(2),x(" ",t.contact.address," ")}}function si(e,s){if(e&1&&(a(0,"div",24),p(1,"mat-icon",28),a(2,"div",29),d(3),B(4,"date"),r()()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:cake"),n(2),x(" ",X(4,2,t.contact.birthday,"longDate")," ")}}function mi(e,s){if(e&1&&(a(0,"div",25),p(1,"mat-icon",28)(2,"div",39),r()),e&2){let t=m(2);n(),l("svgIcon","heroicons_outline:bars-3-bottom-left"),n(),l("innerHTML",t.contact.notes,St)}}function di(e,s){if(e&1){let t=D();a(0,"div",6),f(1,We,1,1,"img",7),a(2,"div",8)(3,"a",9),p(4,"mat-icon",10),r()()(),a(5,"div",11)(6,"div",12)(7,"div",13)(8,"div",14),f(9,Xe,1,1,"img",15)(10,Ye,2,1,"div",16),r(),a(11,"div",17)(12,"button",18),v("click",function(){h(t);let o=m();return C(o.toggleEditMode(!0))}),p(13,"mat-icon",19),a(14,"span",20),d(15,"Edit"),r()()()(),a(16,"div",21),d(17),r(),f(18,Ze,4,4,"div",22),a(19,"div",23),f(20,ti,4,2,"div",24)(21,ei,4,2,"div",24)(22,oi,5,1,"div",25)(23,ci,5,1,"div",25)(24,li,4,2,"div",24)(25,si,5,5,"div",24)(26,mi,3,2,"div",25),r()()()}if(e&2){let t=m();n(),u(t.contact.background?1:-1),n(2),l("matTooltip","Close")("routerLink",q(16,be)),n(),l("svgIcon","heroicons_outline:x-mark"),n(5),u(t.contact.avatar?9:-1),n(),u(t.contact.avatar?-1:10),n(3),l("svgIcon","heroicons_solid:pencil-square"),n(4),x(" ",t.contact.name," "),n(),u(t.contact.tags.length?18:-1),n(2),u(t.contact.title?20:-1),n(),u(t.contact.company?21:-1),n(),u(t.contact.emails.length?22:-1),n(),u(t.contact.phoneNumbers.length?23:-1),n(),u(t.contact.address?24:-1),n(),u(t.contact.birthday?25:-1),n(),u(t.contact.notes?26:-1)}}function pi(e,s){if(e&1&&p(0,"img",7),e&2){let t=m(2);l("src",t.contact.background,R)}}function ui(e,s){if(e&1&&p(0,"img",15),e&2){let t=m(2);l("src",t.contact.avatar,R)}}function _i(e,s){if(e&1&&(a(0,"div",16),d(1),r()),e&2){let t=m(2);n(),x(" ",t.contact.name.charAt(0)," ")}}function fi(e,s){if(e&1&&(a(0,"div",66)(1,"span",67),d(2),r()()),e&2){let t=s.$implicit;n(2),E(t.title)}}function hi(e,s){if(e&1&&(T(0,fi,3,1,"div",66,S().trackByFn,!0),B(2,"fuseFindByKey")),e&2){let t=m(2);I(Ct(2,0,t.contact.tags,"id",t.tags))}}function Ci(e,s){e&1&&(p(0,"mat-icon",19),a(1,"span",68),d(2,"Edit"),r()),e&2&&l("svgIcon","heroicons_solid:pencil-square")}function vi(e,s){e&1&&(p(0,"mat-icon",19),a(1,"span",68),d(2,"Add"),r()),e&2&&l("svgIcon","heroicons_solid:plus-circle")}function gi(e,s){e&1&&p(0,"mat-icon",19),e&2&&l("svgIcon","heroicons_solid:pencil-square")}function xi(e,s){e&1&&p(0,"mat-icon",19),e&2&&l("svgIcon","heroicons_solid:check")}function bi(e,s){if(e&1){let t=D();a(0,"div",78),v("click",function(){let o=h(t).$implicit,c=m(4);return C(c.toggleContactTag(o))}),p(1,"mat-checkbox",79),a(2,"div"),d(3),r()()}if(e&2){let t=s.$implicit,i=m(4);n(),l("checked",i.contact.tags.includes(t.id))("color","primary")("disableRipple",!0),n(2),E(t.title)}}function yi(e,s){if(e&1&&T(0,bi,4,4,"div",77,S().trackByFn,!0),e&2){let t=m(3);I(t.filteredTags)}}function ki(e,s){if(e&1){let t=D();a(0,"div",71)(1,"mat-form-field",80)(2,"input",81),v("input",function(o){let c=h(t).$implicit,_=m(4);return C(_.updateTagTitle(c,o))}),r(),a(3,"button",82),v("click",function(){let o=h(t).$implicit,c=m(4);return C(c.deleteTag(o))}),p(4,"mat-icon",83),r()()()}if(e&2){let t=s.$implicit;n(),l("subscriptSizing","dynamic"),n(),l("value",t.title),n(2),l("svgIcon","heroicons_solid:trash")}}function wi(e,s){if(e&1&&(a(0,"div",75),T(1,ki,5,3,"div",71,S().trackByFn,!0),r()),e&2){let t=m(3);n(),I(t.filteredTags)}}function Si(e,s){if(e&1){let t=D();a(0,"div",84),v("click",function(){h(t),m();let o=O(6);return m(2).createTag(o.value),C(o.value="")}),p(1,"mat-icon",85),a(2,"div",86),d(3,' Create "'),a(4,"b"),d(5),r(),d(6,'" '),r()()}if(e&2){m();let t=O(6);n(),l("svgIcon","heroicons_solid:plus-circle"),n(4),E(t.value)}}function Ti(e,s){if(e&1){let t=D();a(0,"div",69)(1,"div",70)(2,"div",71),p(3,"mat-icon",19),a(4,"div",20)(5,"input",72,4),v("input",function(o){h(t);let c=m(2);return C(c.filterTags(o))})("keydown",function(o){h(t);let c=m(2);return C(c.filterTagsInputKeyDown(o))}),r()()(),a(7,"button",73),v("click",function(){h(t);let o=m(2);return C(o.toggleTagsEditMode())}),f(8,gi,1,1,"mat-icon",19)(9,xi,1,1,"mat-icon",19),r()(),a(10,"div",74),f(11,yi,2,0)(12,wi,3,0,"div",75)(13,Si,7,2,"div",76),r()()}if(e&2){let t=O(6),i=m(2);n(3),l("svgIcon","heroicons_solid:magnifying-glass"),n(2),l("maxLength",30),n(3),u(i.tagsEditMode?-1:8),n(),u(i.tagsEditMode?9:-1),n(2),u(i.tagsEditMode?-1:11),n(),u(i.tagsEditMode?12:-1),n(),u(i.shouldShowCreateTagButton(t.value)?13:-1)}}function Ii(e,s){e&1&&(a(0,"mat-label"),d(1,"Email"),r())}function Di(e,s){e&1&&(a(0,"mat-label"),d(1,"Label"),r())}function Fi(e,s){if(e&1){let t=D();a(0,"div",91)(1,"button",92),v("click",function(){h(t);let o=m().$index,c=m(2);return C(c.removeEmailField(o))}),p(2,"mat-icon",19),r()()}if(e&2){let t=m().$index;l("ngClass",G(2,ye,t===0)),n(2),l("svgIcon","heroicons_solid:trash")}}function Ei(e,s){if(e&1&&(a(0,"div",25)(1,"mat-form-field",87),f(2,Ii,2,0,"mat-label"),p(3,"mat-icon",50)(4,"input",88),r(),a(5,"mat-form-field",89),f(6,Di,2,0,"mat-label"),p(7,"mat-icon",50)(8,"input",90),r(),f(9,Fi,3,4,"div",91),r()),e&2){let t=s.$implicit,i=s.$index,o=s.$count;n(),l("subscriptSizing","dynamic"),n(),u(i===0?2:-1),n(),l("svgIcon","heroicons_solid:envelope"),n(),l("formControl",t.get("email"))("placeholder","Email address")("spellcheck",!1),n(),l("subscriptSizing","dynamic"),n(),u(i===0?6:-1),n(),l("svgIcon","heroicons_solid:tag"),n(),l("formControl",t.get("label"))("placeholder","Label"),n(),u(i===0&&i===o-1?-1:9)}}function Mi(e,s){e&1&&(a(0,"mat-label"),d(1,"Phone"),r())}function Ri(e,s){if(e&1&&(a(0,"mat-option",96)(1,"span",71),p(2,"span",97),a(3,"span",20),d(4),r(),a(5,"span",98),d(6),r()()()),e&2){let t=s.$implicit;l("value",t.iso),n(2),W("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",t.flagImagePos),n(2),E(t.name),n(2),E(t.code)}}function Vi(e,s){e&1&&(a(0,"mat-label"),d(1,"Label"),r())}function $i(e,s){if(e&1){let t=D();a(0,"div",91)(1,"button",92),v("click",function(){h(t);let o=m().$index,c=m(2);return C(c.removePhoneNumberField(o))}),p(2,"mat-icon",19),r()()}if(e&2){let t=m().$index;l("ngClass",G(2,ye,t===0)),n(2),l("svgIcon","heroicons_solid:trash")}}function Ai(e,s){if(e&1&&(a(0,"div",58)(1,"mat-form-field",87),f(2,Mi,2,0,"mat-label"),p(3,"input",90),a(4,"mat-select",93)(5,"mat-select-trigger")(6,"span",71),p(7,"span",94),a(8,"span",95),d(9),r()()(),T(10,Ri,7,9,"mat-option",96,S().trackByFn,!0),r()(),a(12,"mat-form-field",89),f(13,Vi,2,0,"mat-label"),p(14,"mat-icon",50)(15,"input",90),r(),f(16,$i,3,4,"div",91),r()),e&2){let t=s.$implicit,i=s.$index,o=s.$count,c=m(2);n(),l("subscriptSizing","dynamic"),n(),u(i===0?2:-1),n(),l("formControl",t.get("phoneNumber"))("placeholder","Phone"),n(),l("formControl",t.get("country")),n(3),W("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",c.getCountryByIso(t.get("country").value).flagImagePos),n(2),E(c.getCountryByIso(t.get("country").value).code),n(),I(c.countries),n(2),l("subscriptSizing","dynamic"),n(),u(i===0?13:-1),n(),l("svgIcon","heroicons_solid:tag"),n(),l("formControl",t.get("label"))("placeholder","Label"),n(),u(i===0&&i===o-1?-1:16)}}function Bi(e,s){if(e&1){let t=D();a(0,"div",6),f(1,pi,1,1,"img",7),a(2,"div",8)(3,"a",9),p(4,"mat-icon",10),r()()(),a(5,"div",40)(6,"div",12)(7,"form",41)(8,"div",13)(9,"div",42),p(10,"div",43),a(11,"div",44)(12,"div")(13,"input",45,0),v("change",function(){h(t);let o=O(14),c=m();return C(c.uploadAvatar(o.files))}),r(),a(15,"label",46),p(16,"mat-icon",10),r()(),a(17,"div")(18,"button",47),v("click",function(){h(t);let o=m();return C(o.removeAvatar())}),p(19,"mat-icon",10),r()()(),f(20,ui,1,1,"img",15)(21,_i,2,1,"div",16),r()(),a(22,"div",48)(23,"mat-form-field",49)(24,"mat-label"),d(25,"Name"),r(),p(26,"mat-icon",50)(27,"input",51),r()(),a(28,"div",52),f(29,hi,3,4),a(30,"div",53,1),v("click",function(){h(t);let o=m();return C(o.openTagsPanel())}),f(32,Ci,3,1)(33,vi,3,1)(34,Ti,14,7,"ng-template",null,2,Et),r()(),a(36,"div",48)(37,"mat-form-field",49)(38,"mat-label"),d(39,"Title"),r(),p(40,"mat-icon",50)(41,"input",54),r()(),a(42,"div",48)(43,"mat-form-field",49)(44,"mat-label"),d(45,"Company"),r(),p(46,"mat-icon",50)(47,"input",54),r()(),a(48,"div",48)(49,"div",55),T(50,Ei,10,12,"div",25,S().trackByFn,!0),r(),a(52,"div",56),v("click",function(){h(t);let o=m();return C(o.addEmailField())}),p(53,"mat-icon",19),a(54,"span",57),d(55,"Add an email address"),r()()(),a(56,"div",48)(57,"div",55),T(58,Ai,17,18,"div",58,S().trackByFn,!0),r(),a(60,"div",56),v("click",function(){h(t);let o=m();return C(o.addPhoneNumberField())}),p(61,"mat-icon",19),a(62,"span",57),d(63,"Add a phone number"),r()()(),a(64,"div",48)(65,"mat-form-field",49)(66,"mat-label"),d(67,"Address"),r(),p(68,"mat-icon",50)(69,"input",54),r()(),a(70,"div",48)(71,"mat-form-field",49)(72,"mat-label"),d(73,"Birthday"),r(),p(74,"mat-icon",50)(75,"input",59)(76,"mat-datepicker-toggle",60)(77,"mat-datepicker",null,3),r()(),a(79,"div",48)(80,"mat-form-field",49)(81,"mat-label"),d(82,"Notes"),r(),p(83,"mat-icon",50)(84,"textarea",61),r()(),a(85,"div",62)(86,"button",63),v("click",function(){h(t);let o=m();return C(o.deleteContact())}),d(87," Delete "),r(),a(88,"button",64),v("click",function(){h(t);let o=m();return C(o.toggleEditMode(!1))}),d(89," Cancel "),r(),a(90,"button",65),v("click",function(){h(t);let o=m();return C(o.updateContact())}),d(91," Save "),r()()()()()}if(e&2){let t=O(78),i=m();n(),u(i.contact.background?1:-1),n(2),l("matTooltip","Close")("routerLink",q(51,be)),n(),l("svgIcon","heroicons_outline:x-mark"),n(3),l("formGroup",i.contactForm),n(6),l("multiple",!1)("accept","image/jpeg, image/png"),n(3),l("svgIcon","heroicons_outline:camera"),n(3),l("svgIcon","heroicons_outline:trash"),n(),u(i.contact.avatar?20:-1),n(),u(i.contact.avatar?-1:21),n(2),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:user-circle"),n(),l("formControlName","name")("placeholder","Name")("spellcheck",!1),n(2),u(i.contact.tags.length?29:-1),n(3),u(i.contact.tags.length?32:-1),n(),u(i.contact.tags.length?-1:33),n(4),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:briefcase"),n(),l("formControlName","title")("placeholder","Job title"),n(2),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:building-office-2"),n(),l("formControlName","company")("placeholder","Company"),n(3),I(i.contactForm.get("emails").controls),n(3),l("svgIcon","heroicons_solid:plus-circle"),n(5),I(i.contactForm.get("phoneNumbers").controls),n(3),l("svgIcon","heroicons_solid:plus-circle"),n(4),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:map-pin"),n(),l("formControlName","address")("placeholder","Address"),n(2),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:cake"),n(),l("matDatepicker",t)("formControlName","birthday")("placeholder","Birthday"),n(),l("for",t),n(4),l("subscriptSizing","dynamic"),n(3),l("svgIcon","heroicons_solid:bars-3-bottom-left"),n(),l("formControlName","notes")("placeholder","Notes")("rows",5)("spellcheck",!1),n(2),l("color","warn")("matTooltip","Delete"),n(2),l("matTooltip","Cancel"),n(2),l("color","primary")("disabled",i.contactForm.invalid)("matTooltip","Save")}}var ke=(()=>{class e{constructor(t,i,o,c,_,b,V,we,Se,Te){this._activatedRoute=t,this._changeDetectorRef=i,this._contactsListComponent=o,this._contactsService=c,this._formBuilder=_,this._fuseConfirmationService=b,this._renderer2=V,this._router=we,this._overlay=Se,this._viewContainerRef=Te,this.editMode=!1,this.tagsEditMode=!1,this._unsubscribeAll=new K}ngOnInit(){this._contactsListComponent.matDrawer.open(),this.contactForm=this._formBuilder.group({id:[""],avatar:[null],name:["",[Xt.required]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),title:[""],company:[""],birthday:[null],address:[null],notes:[null],tags:[[]]}),this._contactsService.contacts$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.contacts=t,this._changeDetectorRef.markForCheck()}),this._contactsService.contact$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this._contactsListComponent.matDrawer.open(),this.contact=t,this.contactForm.get("emails").clear(),this.contactForm.get("phoneNumbers").clear(),this.contactForm.patchValue(t);let i=[];t.emails.length>0?t.emails.forEach(c=>{i.push(this._formBuilder.group({email:[c.email],label:[c.label]}))}):i.push(this._formBuilder.group({email:[""],label:[""]})),i.forEach(c=>{this.contactForm.get("emails").push(c)});let o=[];t.phoneNumbers.length>0?t.phoneNumbers.forEach(c=>{o.push(this._formBuilder.group({country:[c.country],phoneNumber:[c.phoneNumber],label:[c.label]}))}):o.push(this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]})),o.forEach(c=>{this.contactForm.get("phoneNumbers").push(c)}),this.toggleEditMode(!1),this._changeDetectorRef.markForCheck()}),this._contactsService.countries$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this._contactsService.tags$.pipe(w(this._unsubscribeAll)).subscribe(t=>{this.tags=t,this.filteredTags=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._contactsListComponent.matDrawer.close()}toggleEditMode(t=null){t===null?this.editMode=!this.editMode:this.editMode=t,this._changeDetectorRef.markForCheck()}updateContact(){let t=this.contactForm.getRawValue();t.emails=t.emails.filter(i=>i.email),t.phoneNumbers=t.phoneNumbers.filter(i=>i.phoneNumber),this._contactsService.updateContact(t.id,t).subscribe(()=>{this.toggleEditMode(!1)})}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(i=>{if(i==="confirmed"){let o=this.contact.id,c=this.contacts.findIndex(V=>V.id===o),_=c+(c===this.contacts.length-1?-1:1),b=this.contacts.length===1&&this.contacts[0].id===o?null:this.contacts[_].id;this._contactsService.deleteContact(o).subscribe(V=>{V&&(b?this._router.navigate(["../",b],{relativeTo:this._activatedRoute}):this._router.navigate(["../"],{relativeTo:this._activatedRoute}),this.toggleEditMode(!1))}),this._changeDetectorRef.markForCheck()}})}uploadAvatar(t){if(!t.length)return;let i=["image/jpeg","image/png"],o=t[0];i.includes(o.type)&&this._contactsService.uploadAvatar(this.contact.id,o).subscribe()}removeAvatar(){this.contactForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.contact.avatar=null}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._renderer2.addClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});let t=new Lt(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(t),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._renderer2.removeClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),t&&t.isAttached&&t.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(t){let i=t.target.value.toLowerCase();this.filteredTags=this.tags.filter(o=>o.title.toLowerCase().includes(i))}filterTagsInputKeyDown(t){if(t.key!=="Enter")return;if(this.filteredTags.length===0){this.createTag(t.target.value),t.target.value="";return}let i=this.filteredTags[0];this.contact.tags.find(c=>c===i.id)?this.removeTagFromContact(i):this.addTagToContact(i)}createTag(t){let i={title:t};this._contactsService.createTag(i).subscribe(o=>{this.addTagToContact(o)})}updateTagTitle(t,i){t.title=i.target.value,this._contactsService.updateTag(t.id,t).pipe(yt(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(t){this._contactsService.deleteTag(t.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToContact(t){this.contact.tags.unshift(t.id),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}removeTagFromContact(t){this.contact.tags.splice(this.contact.tags.findIndex(i=>i===t.id),1),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}toggleContactTag(t){this.contact.tags.includes(t.id)?this.removeTagFromContact(t):this.addTagToContact(t)}shouldShowCreateTagButton(t){return!(t===""||this.tags.findIndex(i=>i.title.toLowerCase()===t.toLowerCase())>-1)}addEmailField(){let t=this._formBuilder.group({email:[""],label:[""]});this.contactForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.contactForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){let t=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.contactForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.contactForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}getCountryByIso(t){return this.countries.find(i=>i.iso===t)}trackByFn(t,i){return i.id||t}static{this.\u0275fac=function(i){return new(i||e)(g(Z),g(Y),g(ht),g(M),g(ie),g(Gt),g(Tt),g(U),g(zt),g(It))}}static{this.\u0275cmp=P({type:e,selectors:[["contacts-details"]],viewQuery:function(i,o){if(i&1&&(j(Ge,5),j(Ke,5),j(He,5)),i&2){let c;L(c=z())&&(o._avatarFileInput=c.first),L(c=z())&&(o._tagsPanel=c.first),L(c=z())&&(o._tagsPanelOrigin=c.first)}},decls:3,vars:2,consts:[["avatarFileInput",""],["tagsPanelOrigin",""],["tagsPanel",""],["birthdayDatepicker",""],["newTagInput",""],[1,"flex","w-full","flex-col"],[1,"relative","h-40","w-full","bg-accent-100","px-8","dark:bg-accent-700","sm:h-48","sm:px-12"],[1,"absolute","inset-0","h-full","w-full","object-cover",3,"src"],[1,"mx-auto","flex","w-full","max-w-3xl","items-center","justify-end","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-auto","flex-col","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"-mt-16","flex","flex-auto","items-end"],[1,"ring-bg-card","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","overflow-hidden","rounded","bg-gray-200","text-8xl","font-bold","uppercase","leading-none","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"mb-1","ml-auto","flex","items-center"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","truncate","text-4xl","font-bold"],[1,"mt-2","flex","flex-wrap","items-center"],[1,"mt-4","flex","flex-col","space-y-8","border-t","pt-6"],[1,"flex","sm:items-center"],[1,"flex"],[1,"mb-3","mr-3","flex","items-center","justify-center","rounded-full","bg-gray-100","px-3","py-1","leading-normal","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"whitespace-nowrap","text-sm","font-medium"],[3,"svgIcon"],[1,"ml-6","leading-6"],[1,"ml-6","min-w-0","space-y-1"],[1,"flex","items-center","leading-6"],["target","_blank",1,"text-primary-500","hover:underline",3,"href"],[1,"text-secondary","truncate","text-md"],[1,"mx-2"],[1,"font-medium"],[1,"hidden","h-4","w-6","overflow-hidden","sm:flex",3,"matTooltip"],[1,"font-mono","sm:ml-3"],[1,"ml-2.5","font-mono"],[1,"prose","prose-sm","ml-6","max-w-none",3,"innerHTML"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"ring-bg-card","relative","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"absolute","inset-0","z-10","bg-black","bg-opacity-50"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["id","avatar-file-input","type","file",1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0",3,"change","multiple","accept"],["for","avatar-file-input","matRipple","",1,"flex","h-10","w-10","cursor-pointer","items-center","justify-center","rounded-full","hover:bg-hover"],["mat-icon-button","",3,"click"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],[1,"-m-1.5","mt-6","flex","flex-wrap","items-center"],[1,"m-1.5","flex","cursor-pointer","items-center","justify-center","rounded-full","bg-gray-100","px-4","leading-9","text-gray-500","dark:bg-gray-700","dark:text-gray-300",3,"click"],["matInput","",3,"formControlName","placeholder"],[1,"space-y-4"],[1,"group","-ml-4","mt-2","inline-flex","cursor-pointer","items-center","rounded","px-4","py-2",3,"click"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"relative","flex"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],["matInput","","cdkTextareaAutosize","",3,"formControlName","placeholder","rows","spellcheck"],[1,"-mx-6","mt-10","flex","items-center","border-t","bg-gray-50","py-4","pl-1","pr-4","dark:bg-transparent","sm:-mx-12","sm:pl-7","sm:pr-12"],["mat-button","",3,"click","color","matTooltip"],["mat-button","",1,"ml-auto",3,"click","matTooltip"],["mat-flat-button","",1,"ml-2",3,"click","color","disabled","matTooltip"],[1,"m-1.5","flex","items-center","justify-center","rounded-full","bg-gray-100","px-4","leading-9","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"whitespace-nowrap","text-md","font-medium"],[1,"ml-1.5","whitespace-nowrap","text-md","font-medium"],[1,"bg-card","w-60","rounded","border","shadow-md"],[1,"m-3","mr-2","flex","items-center"],[1,"flex","items-center"],["type","text","placeholder","Enter tag name",1,"w-full","min-w-0","border-0","py-1",3,"input","keydown","maxLength"],["mat-icon-button","",1,"ml-1",3,"click"],[1,"flex","max-h-64","flex-col","overflow-y-auto","border-t","py-2"],[1,"space-y-2","py-2"],["matRipple","",1,"-ml-0.5","flex","h-10","min-h-10","cursor-pointer","items-center","pl-4","pr-3","leading-none","hover:bg-hover"],["matRipple","",1,"flex","h-10","min-h-10","cursor-pointer","items-center","pl-1","pr-4","hover:bg-hover"],["matRipple","",1,"flex","h-10","min-h-10","cursor-pointer","items-center","pl-1","pr-4","hover:bg-hover",3,"click"],[1,"pointer-events-none","flex","h-10","min-h-10","items-center",3,"checked","color","disableRipple"],[1,"fuse-mat-dense","mx-4","w-full",3,"subscriptSizing"],["matInput","",3,"input","value"],["mat-icon-button","","matSuffix","",3,"click"],[1,"ml-2","icon-size-5",3,"svgIcon"],["matRipple","",1,"-ml-0.5","flex","h-10","min-h-10","cursor-pointer","items-center","pl-4","pr-3","leading-none","hover:bg-hover",3,"click"],[1,"mr-2","icon-size-5",3,"svgIcon"],[1,"break-all"],[1,"flex-auto",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder","spellcheck"],[1,"ml-2","w-full","max-w-24","flex-auto","sm:ml-4","sm:max-w-40",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder"],[1,"flex","w-10","items-center","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Remove",1,"h-8","min-h-8","w-8",3,"click"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"mr-1","hidden","h-4","w-6","overflow-hidden","sm:flex"],[1,"text-default","font-medium","sm:mx-0.5"],[3,"value"],[1,"h-4","w-6","overflow-hidden"],[1,"ml-2","font-medium"]],template:function(i,o){i&1&&(a(0,"div",5),f(1,di,27,17)(2,Bi,92,52),r()),i&2&&(n(),u(o.editMode?-1:1),n(),u(o.editMode?2:-1))},dependencies:[rt,at,qt,Qt,Wt,Ht,et,lt,ct,pt,Zt,st,mt,Yt,ut,dt,te,ee,Nt,Bt,ot,nt,Ot,it,Ut,ft,_t,ne,re,ae,J,se,ce,le,Pt,jt,ve,fe,he,Ce,oe,_e,Vt],encapsulation:2,changeDetection:0})}}return e})();var Ni=(e,s)=>{let t=A(M),i=A(U);return t.getContactById(e.paramMap.get("id")).pipe(bt(o=>{console.error(o);let c=s.url.split("/").slice(0,-1).join("/");return i.navigateByUrl(c),H(o)}))},Pi=(e,s,t,i)=>{let o=i.root;for(;o.firstChild;)o=o.firstChild;return!i.url.includes("/contacts")||o.paramMap.get("id")?!0:e.closeDrawer().then(()=>!0)},Vn=[{path:"",component:ge,resolve:{tags:()=>A(M).getTags()},children:[{path:"",component:ht,resolve:{contacts:()=>A(M).getContacts(),countries:()=>A(M).getCountries()},children:[{path:":id",component:ke,resolve:{contact:Ni,countries:()=>A(M).getCountries()},canDeactivate:[Pi]}]}]}];export{Vn as default};
